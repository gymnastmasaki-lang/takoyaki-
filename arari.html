<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ç²—åˆ©ãƒ»ç´ç¨é¡æ—©è¦‹è¡¨</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }
    
    .container {
      max-width: 1400px;
      margin: 0 auto;
      background: white;
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    }
    
    h1 {
      text-align: center;
      color: #333;
      margin-bottom: 10px;
      font-size: 32px;
    }
    
    h2 {
      margin-top: 50px;
      margin-bottom: 20px;
      color: #333;
      border-bottom: 3px solid #667eea;
      padding-bottom: 10px;
    }
    
    .subtitle {
      text-align: center;
      color: #666;
      margin-bottom: 30px;
      font-size: 14px;
    }
    
    .assumptions {
      background: #fff3cd;
      border-left: 4px solid #ffc107;
      padding: 15px;
      margin-bottom: 25px;
      border-radius: 8px;
    }
    
    .assumptions h3 {
      margin-bottom: 10px;
      color: #856404;
    }
    
    .assumptions ul {
      list-style: none;
      padding-left: 10px;
    }
    
    .assumptions li {
      margin-bottom: 5px;
      color: #856404;
      font-size: 14px;
    }
    
    .assumptions li::before {
      content: "â€¢ ";
      font-weight: bold;
    }
    
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 30px;
      font-size: 13px;
    }
    
    th {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 12px 8px;
      text-align: right;
      font-weight: bold;
      border: 2px solid #555;
      position: sticky;
      top: 0;
      z-index: 10;
    }
    
    th:first-child {
      text-align: center;
    }
    
    td {
      padding: 10px 8px;
      text-align: right;
      border: 1px solid #ddd;
    }
    
    td:first-child {
      text-align: center;
      font-weight: bold;
      background: #f8f9fa;
    }
    
    tr:nth-child(even) {
      background: #f8f9fa;
    }
    
    tr:hover {
      background: #e3f2fd;
    }
    
    .highlight {
      background: #fff3cd !important;
      font-weight: bold;
    }
    
    .negative {
      color: #dc3545;
      font-weight: bold;
    }
    
    .positive {
      color: #28a745;
      font-weight: bold;
    }
    
    .footer {
      text-align: center;
      color: #666;
      font-size: 12px;
      margin-top: 20px;
      padding-top: 20px;
      border-top: 1px solid #ddd;
    }
    
    @media print {
      body {
        background: white;
        padding: 0;
      }
      
      .container {
        box-shadow: none;
        padding: 20px;
      }
      
      th {
        position: static;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ç²—åˆ©ãƒ»ç´ç¨é¡æ—©è¦‹è¡¨</h1>
    <div class="subtitle">å£²ä¸Š100ä¸‡å††ã€œ200ä¸‡å††ï¼ˆ10ä¸‡å††åˆ»ã¿ï¼‰</div>
    
    <div class="assumptions">
      <h3>ğŸ“‹ è¨ˆç®—æ¡ä»¶</h3>
      <ul>
        <li><strong>ææ–™è²»ç‡ï¼š</strong>35%</li>
        <li><strong>å®¶è³ƒãƒ»æ°´å…‰ç†±è²»ï¼š</strong>15ä¸‡å††ï¼ˆå›ºå®šï¼‰</li>
        <li><strong>ãã®ä»–çµŒè²»ï¼š</strong>5ä¸‡å††ï¼ˆå›ºå®šï¼‰</li>
        <li><strong>æ¶ˆè²»ç¨ç‡ï¼š</strong>å£²ä¸Šã®80%ãŒ8%ã€20%ãŒ10%</li>
        <li><strong>ç¤¾ä¼šä¿é™ºæ–™ç­‰ï¼š</strong>çµ¦ä¸è¨ˆç®—ã‚·ã‚¹ãƒ†ãƒ ã®è¨ˆç®—å¼ã«åŸºã¥ã</li>
      </ul>
    </div>
    
    <!-- è¡¨1: äººä»¶è²»35% -->
    <h2>äººä»¶è²»35%ï¼ˆå£²ä¸Šæ¯”ä¾‹ï¼‰ã®å ´åˆ</h2>
    <table>
      <thead>
        <tr>
          <th>å£²ä¸Š</th>
          <th>ææ–™è²»<br/>(35%)</th>
          <th>äººä»¶è²»<br/>(35%)</th>
          <th>å®¶è³ƒãƒ»<br/>æ°´å…‰ç†±è²»</th>
          <th>ãã®ä»–<br/>çµŒè²»</th>
          <th>ç²—åˆ©</th>
          <th>ä»®å—æ¶ˆè²»ç¨<br/>(8%)</th>
          <th>ä»®å—æ¶ˆè²»ç¨<br/>(10%)</th>
          <th>ä»®æ‰•æ¶ˆè²»ç¨<br/>(8%)</th>
          <th>ä»®æ‰•æ¶ˆè²»ç¨<br/>(10%)</th>
          <th>ç´ç¨é¡</th>
          <th>å¥åº·ä¿é™º</th>
          <th>åšç”Ÿå¹´é‡‘</th>
          <th>é›‡ç”¨ä¿é™º</th>
          <th>æ‰€å¾—ç¨</th>
          <th>ä½æ°‘ç¨</th>
          <th>æ§é™¤åˆè¨ˆ</th>
          <th>ç´”å–ã‚Šåˆ†</th>
        </tr>
      </thead>
      <tbody id="tableBody35">
      </tbody>
    </table>
    
    <!-- è¡¨2: äººä»¶è²»0å†† -->
    <h2>äººä»¶è²»0å††ã®å ´åˆ</h2>
    <table>
      <thead>
        <tr>
          <th>å£²ä¸Š</th>
          <th>ææ–™è²»<br/>(35%)</th>
          <th>äººä»¶è²»</th>
          <th>å®¶è³ƒãƒ»<br/>æ°´å…‰ç†±è²»</th>
          <th>ãã®ä»–<br/>çµŒè²»</th>
          <th>ç²—åˆ©</th>
          <th>ä»®å—æ¶ˆè²»ç¨<br/>(8%)</th>
          <th>ä»®å—æ¶ˆè²»ç¨<br/>(10%)</th>
          <th>ä»®æ‰•æ¶ˆè²»ç¨<br/>(8%)</th>
          <th>ä»®æ‰•æ¶ˆè²»ç¨<br/>(10%)</th>
          <th>ç´ç¨é¡</th>
          <th>å¥åº·ä¿é™º</th>
          <th>åšç”Ÿå¹´é‡‘</th>
          <th>é›‡ç”¨ä¿é™º</th>
          <th>æ‰€å¾—ç¨</th>
          <th>ä½æ°‘ç¨</th>
          <th>æ§é™¤åˆè¨ˆ</th>
          <th>ç´”å–ã‚Šåˆ†</th>
        </tr>
      </thead>
      <tbody id="tableBody0">
      </tbody>
    </table>
    
    <!-- è¡¨3: äººä»¶è²»10ä¸‡å†† -->
    <h2>äººä»¶è²»10ä¸‡å††ã®å ´åˆ</h2>
    <table>
      <thead>
        <tr>
          <th>å£²ä¸Š</th>
          <th>ææ–™è²»<br/>(35%)</th>
          <th>äººä»¶è²»</th>
          <th>å®¶è³ƒãƒ»<br/>æ°´å…‰ç†±è²»</th>
          <th>ãã®ä»–<br/>çµŒè²»</th>
          <th>ç²—åˆ©</th>
          <th>ä»®å—æ¶ˆè²»ç¨<br/>(8%)</th>
          <th>ä»®å—æ¶ˆè²»ç¨<br/>(10%)</th>
          <th>ä»®æ‰•æ¶ˆè²»ç¨<br/>(8%)</th>
          <th>ä»®æ‰•æ¶ˆè²»ç¨<br/>(10%)</th>
          <th>ç´ç¨é¡</th>
          <th>å¥åº·ä¿é™º</th>
          <th>åšç”Ÿå¹´é‡‘</th>
          <th>é›‡ç”¨ä¿é™º</th>
          <th>æ‰€å¾—ç¨</th>
          <th>ä½æ°‘ç¨</th>
          <th>æ§é™¤åˆè¨ˆ</th>
          <th>ç´”å–ã‚Šåˆ†</th>
        </tr>
      </thead>
      <tbody id="tableBody10">
      </tbody>
    </table>
    
    <!-- è¡¨4: äººä»¶è²»20ä¸‡å†† -->
    <h2>äººä»¶è²»20ä¸‡å††ã®å ´åˆ</h2>
    <table>
      <thead>
        <tr>
          <th>å£²ä¸Š</th>
          <th>ææ–™è²»<br/>(35%)</th>
          <th>äººä»¶è²»</th>
          <th>å®¶è³ƒãƒ»<br/>æ°´å…‰ç†±è²»</th>
          <th>ãã®ä»–<br/>çµŒè²»</th>
          <th>ç²—åˆ©</th>
          <th>ä»®å—æ¶ˆè²»ç¨<br/>(8%)</th>
          <th>ä»®å—æ¶ˆè²»ç¨<br/>(10%)</th>
          <th>ä»®æ‰•æ¶ˆè²»ç¨<br/>(8%)</th>
          <th>ä»®æ‰•æ¶ˆè²»ç¨<br/>(10%)</th>
          <th>ç´ç¨é¡</th>
          <th>å¥åº·ä¿é™º</th>
          <th>åšç”Ÿå¹´é‡‘</th>
          <th>é›‡ç”¨ä¿é™º</th>
          <th>æ‰€å¾—ç¨</th>
          <th>ä½æ°‘ç¨</th>
          <th>æ§é™¤åˆè¨ˆ</th>
          <th>ç´”å–ã‚Šåˆ†</th>
        </tr>
      </thead>
      <tbody id="tableBody20">
      </tbody>
    </table>
    
    <div class="footer">
      â€» ã“ã®æ—©è¦‹è¡¨ã¯æ¦‚ç®—ã§ã™ã€‚å®Ÿéš›ã®æ•°å€¤ã¯ç¨ç†å£«ã«ã”ç¢ºèªãã ã•ã„ã€‚<br/>
      â€» ç¤¾ä¼šä¿é™ºæ–™ã¯æ¨™æº–å ±é…¬æœˆé¡ã«åŸºã¥ãè¨ˆç®—ã—ã¦ã„ã¾ã™ã€‚<br/>
      â€» ç°¡æ˜“èª²ç¨åˆ¶åº¦ãƒ»ã‚¤ãƒ³ãƒœã‚¤ã‚¹åˆ¶åº¦ã¯è€ƒæ…®ã—ã¦ã„ã¾ã›ã‚“ã€‚
    </div>
  </div>
  
  <script>
    // ç¤¾ä¼šä¿é™ºãƒ‡ãƒ¼ã‚¿ï¼ˆkanri.htmlã¨åŒã˜ï¼‰
    const INSURANCE_DATA = {
      healthInsuranceRates: {
        'æ±äº¬': 0.1000,
        'ç¥å¥ˆå·': 0.1005,
        'åŸ¼ç‰': 0.0982,
        'åƒè‘‰': 0.0994
      },
      nursingCareRate: 0.0182,
      pensionRate: 0.183,
      standardMonthlyRemuneration: [
        { min: 0, max: 63000, standard: 58000 },
        { min: 63000, max: 73000, standard: 68000 },
        { min: 73000, max: 83000, standard: 78000 },
        { min: 83000, max: 93000, standard: 88000 },
        { min: 93000, max: 101000, standard: 98000 },
        { min: 101000, max: 107000, standard: 104000 },
        { min: 107000, max: 114000, standard: 110000 },
        { min: 114000, max: 122000, standard: 118000 },
        { min: 122000, max: 130000, standard: 126000 },
        { min: 130000, max: 138000, standard: 134000 },
        { min: 138000, max: 146000, standard: 142000 },
        { min: 146000, max: 155000, standard: 150000 },
        { min: 155000, max: 165000, standard: 160000 },
        { min: 165000, max: 175000, standard: 170000 },
        { min: 175000, max: 185000, standard: 180000 },
        { min: 185000, max: 195000, standard: 190000 },
        { min: 195000, max: 210000, standard: 200000 },
        { min: 210000, max: 230000, standard: 220000 },
        { min: 230000, max: 250000, standard: 240000 },
        { min: 250000, max: 270000, standard: 260000 },
        { min: 270000, max: 290000, standard: 280000 },
        { min: 290000, max: 310000, standard: 300000 },
        { min: 310000, max: 330000, standard: 320000 },
        { min: 330000, max: 350000, standard: 340000 },
        { min: 350000, max: 370000, standard: 360000 },
        { min: 370000, max: 395000, standard: 380000 },
        { min: 395000, max: 425000, standard: 410000 },
        { min: 425000, max: 455000, standard: 440000 },
        { min: 455000, max: 485000, standard: 470000 },
        { min: 485000, max: 515000, standard: 500000 },
        { min: 515000, max: 545000, standard: 530000 },
        { min: 545000, max: 575000, standard: 560000 },
        { min: 575000, max: 605000, standard: 590000 },
        { min: 605000, max: 635000, standard: 620000 },
        { min: 635000, max: 665000, standard: 650000 },
        { min: 665000, max: 695000, standard: 680000 },
        { min: 695000, max: 730000, standard: 710000 },
        { min: 730000, max: 770000, standard: 750000 },
        { min: 770000, max: 810000, standard: 790000 },
        { min: 810000, max: 855000, standard: 830000 },
        { min: 855000, max: 905000, standard: 880000 },
        { min: 905000, max: 955000, standard: 930000 },
        { min: 955000, max: 1005000, standard: 980000 },
        { min: 1005000, max: 1055000, standard: 1030000 },
        { min: 1055000, max: 1115000, standard: 1090000 },
        { min: 1115000, max: 1175000, standard: 1150000 },
        { min: 1175000, max: 1235000, standard: 1210000 },
        { min: 1235000, max: 1295000, standard: 1270000 },
        { min: 1295000, max: Infinity, standard: 1330000 }
      ]
    };
    
    // æ§é™¤è¨ˆç®—é–¢æ•°
    function calculateDeductions(grossProfit) {
      const prefecture = 'æ±äº¬';
      const age = 40;
      
      let standardRemuneration = 58000;
      for (const bracket of INSURANCE_DATA.standardMonthlyRemuneration) {
        if (grossProfit >= bracket.min && grossProfit < bracket.max) {
          standardRemuneration = bracket.standard;
          break;
        }
      }
      
      const healthRate = INSURANCE_DATA.healthInsuranceRates[prefecture] || 0.1000;
      const nursingRate = age >= 40 ? INSURANCE_DATA.nursingCareRate : 0;
      const totalHealthRate = healthRate + nursingRate;
      const healthInsurance = Math.floor(standardRemuneration * totalHealthRate / 2);
      
      const pension = Math.floor(standardRemuneration * INSURANCE_DATA.pensionRate / 2);
      const employmentInsurance = Math.floor(grossProfit * 0.0055);
      
      const socialInsuranceTotal = healthInsurance + pension + employmentInsurance;
      const taxableIncome = grossProfit - socialInsuranceTotal - 88000;
      let incomeTax = 0;
      
      if (taxableIncome > 0) {
        const annualTaxableIncome = taxableIncome * 12;
        
        if (annualTaxableIncome <= 1950000) {
          incomeTax = Math.floor(annualTaxableIncome * 0.05 / 12);
        } else if (annualTaxableIncome <= 3300000) {
          incomeTax = Math.floor((annualTaxableIncome * 0.10 - 97500) / 12);
        } else if (annualTaxableIncome <= 6950000) {
          incomeTax = Math.floor((annualTaxableIncome * 0.20 - 427500) / 12);
        } else if (annualTaxableIncome <= 9000000) {
          incomeTax = Math.floor((annualTaxableIncome * 0.23 - 636000) / 12);
        } else if (annualTaxableIncome <= 18000000) {
          incomeTax = Math.floor((annualTaxableIncome * 0.33 - 1536000) / 12);
        } else if (annualTaxableIncome <= 40000000) {
          incomeTax = Math.floor((annualTaxableIncome * 0.40 - 2796000) / 12);
        } else {
          incomeTax = Math.floor((annualTaxableIncome * 0.45 - 4796000) / 12);
        }
      }
      
      let residentTax = 0;
      if (taxableIncome > 0) {
        residentTax = Math.floor(taxableIncome * 0.10);
      }
      
      const totalDeductions = healthInsurance + pension + employmentInsurance + incomeTax + residentTax;
      
      return {
        healthInsurance,
        pension,
        employmentInsurance,
        incomeTax,
        residentTax,
        totalDeductions
      };
    }
    
    // ãƒ†ãƒ¼ãƒ–ãƒ«ç”Ÿæˆé–¢æ•°
    function generateTable(tbodyId, laborCostType) {
      const tbody = document.getElementById(tbodyId);
      
      for (let sales = 1000000; sales <= 2000000; sales += 100000) {
        const materialCost = Math.floor(sales * 0.35);
        let laborCost = 0;
        
        if (laborCostType === 'rate') {
          laborCost = Math.floor(sales * 0.35);
        } else {
          laborCost = laborCostType;
        }
        
        const rentUtilities = 150000;
        const otherExpenses = 50000;
        const grossProfit = sales - materialCost - laborCost - rentUtilities - otherExpenses;
        
        const sales8 = sales * 0.8;
        const sales10 = sales * 0.2;
        const receivedTax8 = Math.floor(sales8 * (8 / 108));
        const receivedTax10 = Math.floor(sales10 * (10 / 110));
        
        const paidTax8 = Math.floor(materialCost * (8 / 108));
        const paidTax10 = Math.floor((rentUtilities + otherExpenses) * (10 / 110));
        
        const taxPayment = (receivedTax8 + receivedTax10) - (paidTax8 + paidTax10);
        
        const deductions = calculateDeductions(grossProfit);
        const netProfit = grossProfit - deductions.totalDeductions;
        
        const row = document.createElement('tr');
        if (netProfit < 0) {
          row.classList.add('highlight');
        }
        
        row.innerHTML = `
          <td>Â¥${(sales / 10000).toFixed(0)}ä¸‡</td>
          <td>Â¥${materialCost.toLocaleString()}</td>
          <td>Â¥${laborCost.toLocaleString()}</td>
          <td>Â¥${rentUtilities.toLocaleString()}</td>
          <td>Â¥${otherExpenses.toLocaleString()}</td>
          <td class="${grossProfit < 0 ? 'negative' : 'positive'}">Â¥${grossProfit.toLocaleString()}</td>
          <td>Â¥${receivedTax8.toLocaleString()}</td>
          <td>Â¥${receivedTax10.toLocaleString()}</td>
          <td>Â¥${paidTax8.toLocaleString()}</td>
          <td>Â¥${paidTax10.toLocaleString()}</td>
          <td class="positive">Â¥${taxPayment.toLocaleString()}</td>
          <td>Â¥${deductions.healthInsurance.toLocaleString()}</td>
          <td>Â¥${deductions.pension.toLocaleString()}</td>
          <td>Â¥${deductions.employmentInsurance.toLocaleString()}</td>
          <td>Â¥${deductions.incomeTax.toLocaleString()}</td>
          <td>Â¥${deductions.residentTax.toLocaleString()}</td>
          <td>Â¥${deductions.totalDeductions.toLocaleString()}</td>
          <td class="${netProfit < 0 ? 'negative' : 'positive'}">Â¥${netProfit.toLocaleString()}</td>
        `;
        
        tbody.appendChild(row);
      }
    }
    
    // 4ã¤ã®è¡¨ã‚’ç”Ÿæˆ
    generateTable('tableBody35', 'rate');  // äººä»¶è²»35%
    generateTable('tableBody0', 0);        // äººä»¶è²»0å††
    generateTable('tableBody10', 100000);  // äººä»¶è²»10ä¸‡å††
    generateTable('tableBody20', 200000);  // äººä»¶è²»20ä¸‡å††
  </script>
</body>
</html>
